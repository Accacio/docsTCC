
\chapter{Introduction}
In a world where the majority of the population lives in industrial societies,
and machines take part on the bulk of the production of almost all goods, from
food to cosmetics and drugs, from toothbrushes to automobiles, 
a well-paced throughput is crucial, and any non expected halt on the
production or change can be disastrous, producing sometimes multimillionaire debts,
provoking a snowball effect, affecting the economy and consequentially the welfare of the society.

A diverse number of causes of the halt or change of the throughput can be
accounted for. Some are as simple as a power outage, or a component malfunction,
but nowadays there are other players. As the industry \textsl{walks}, or even
better \textsl{runs}, towards the so called Fourth Industrial Revolution, 
it urges the use of \textit{connected sensors}, and since the Internet of
Things is the fashion these days, the chances of a hacker attack increases. All
these kinds of failures, intended or not can interfere somehow with the
production throughput. There are two ways to attempt the reduction of the interference these agents can
cause: prevention (before the interference) and remedy (after the interference).

The most common means of prevention in the industry are through preventive
maintenance (for the physical components) and cyber security (for the software
components).

Once the interference is caused, in order to remedy and reestablish
the operation some steps are necessary. Detect the fault, determine the faulty
part, and finally intervene.
The crucial part of fixing something is to know how this thing should
work\footnote{``To determine why something has stopped working, it's useful to
  know how it was supposed to work in the first place'' \cite{davis1988model}},
because when we know how it should work, we can distinguish when it is and when
it is not.

The focus of this work is system identification aimed for fault
detection and diagnosis.
% A diverse number of causes of the halt or change of the throughput can be
% accounted for. Some are as simple as a power outage, or a component malfunction,
% but nowadays there are other players. As the industry \textsl{walks}, or even
% better \textsl{runs}, towards the so called Fourth Industrial Revolution, 
% it urges the use of \textit{connected sensors}, and since the Internet of
% Things is the fashion these days, but the concerns about cyber security are now
% and again neglected. So hackers can infiltrate the system, and depending of the
% infrastructure, halt or change somehow the production throughput.


% Cyber security is not the theme of this bachelor thesis but its theme is another
% important concern to a well-paced throughput, fault detection.

As great part of the manufacture facilities uses discrete sensors and actuators,
as conveyor belts, pneumatic cylinders, limit switches and proximity sensors, it
is very common to see \PLCs{} controlling those plants. And when a system is ruled
by discrete events and also its states are discrete it can be modeled as
Discrete Event Systems.

On the literature, we can find an expressive number of articles using Discrete
Event Systems for identification, fault detection and fault diagnosis.
\cite{veras2018distributed,cabral2017synchronous,kumar2014comments,klein2005fault}
can be used as examples.

This work is based on \cite{moreira2018enhanced}, that
develops an algorithm to identify a model of the system using its inputs
and outputs, using a black box approach, also seen in other works as
\cite{klein2005fault} and \cite{roth2009fdi}. This identified model can be later
used to detect faults on the system.

The objective is to apply the identification algorithm shown in
\cite{moreira2018enhanced} in a Didactic Manufacturing System with a
concurrent behaviour and a moderate number of inputs and outputs (over 60) and
show that the identification method can be used on concurrent subsystems, so we can
achieve scalability.


During this work all steps from the conception of the control of the system to
its identification will be described. So, in order to ease the path throughout
this work we have in the next section its outline.

\section{Work Outline}
\label{sec:thesisOutline}

\paragraph{\nameref{cha:background}} ~\\
In \autoref{cha:background} a background to understand
this work is presented. First are presented the basic principles of Discrete
Event Systems and two
ways of modelling them (Automata and Petri nets). After, a way to use Petri nets to design
a controlled system and to translate this control to Ladder Logic are depicted (as
in \cite{moreira2013bridging}).
% The Ladder Logic is used to program a PLC.
And finally we present the identification algorithm,
\DAOCT{} (as in \cite{moreira2018enhanced}).

\paragraph{\nameref{cha:system}} ~\\
In \autoref{cha:system} we present the manufacturing system, its devices, sensors and actuators. 

\paragraph{\nameref{cha:control}} ~\\
In \autoref{cha:control} we describe the design process of the control and its
implementation on the \PLCs.

\paragraph{\nameref{cha:ident}} ~\\
In \autoref{cha:ident} we describe the process of identifying the system,
logging its input and output data and
using the algorithm shown in
\autoref{cha:background} to identify the model.

\paragraph{\nameref{cha:results}} ~\\
In \autoref{cha:results}, the data acquired on the steps described on
\autoref{cha:ident} are discussed and fed to the algorithm, then the
output models are discussed and the behavior of the system is addressed.


\paragraph{\nameref{cha:conclusion}} ~\\
In \autoref{cha:conclusion}, the conclusions are drawn. The drawbacks presented during the implementation are
collected, and other approaches on some specific parts of this work are proposed
as future works.


%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../monografia.tex"
%%% End:
